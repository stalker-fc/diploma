\subsection*{\large{Выбор стека технологий}}
\addcontentsline{toc}{subsection}{Выбор стека технологий}
Во время проектирования \textit{системы в целом} всегда возникает ряд вопросов,
связанных с выбором стека технологий для решения следующих задач.

\begin{enumerate}
    \item Реализация программного кода
    \item Хранение данных
    \item Развертывание
    \item Тестирование
    \item Логирование
    \item Документация
    \item Протоколы взаимодействия
\end{enumerate}

Рассмотрим каждую из задач более подробно и выберем технологию, которая наиболее подходит для её решения в нашем случае.

\noindent \textbf{1. Язык программирования}.

В качестве основного языка программирования был выбран \textit{Python 3.8}.
% https://docs.python.org/3.8/
Самым ценным ресурсом при реализации нашей системы является время разработки. Python является языком программирования
с динамической типизацией, имеет простой синтаксис,
а также очень большую базу готовых библиотек для решения любых задач.
Все эти преимущества позволяют, как быстро реализовывать функционал со стороны разработки, так и проводить проверку
разных алгоритмических гипотез за короткое время.

Такие недостатки Python, как низкая скорость выполнения программ и большое потребление памяти, в нашем случае
не играют решающей роли.
% https://techvidvan.com/tutorials/python-advantages-and-disadvantages/
В Ubuntu 20.04 LTS -- операционной системе, на которой ведется разработка, установлен по умолчанию Python 3.8, поэтому
была выбрана именно эта версия языка.

\noindent \textbf{2. Хранение данных}.

Все данные, которые используются в проекте, достаточно однородны и могут быть легко представлены в табличном виде.
Поэтому в качестве технологии для хранения данных будем использовать реляционную базу данных.
Так как проектирование генеральных планов напрямую связано с геоданными, то необходимо учитывать это требование.

В качестве технического решения предлагается связка \textit{PostgreSQL 12} и расширения для работы с геоданными
\textit{PostGIS 3.1}. PostgreSQL является популярным open-source решением в мире баз данных,
а PostGIS содержит очень большое количество функций для преобразований геоданных, что нам очень важно.
% https://postgis.net/documentation/
В версии PostGIS 3.0 появилась поддержка Mapbox Vector Tile, что позволяет генерировать данные для визуализации с помощью
стандартных функций базы данных.

\noindent \textbf{3. Развертывание}.

Необходимо предусмотреть механизм автоматического развертывания.
В компании используется система управления git-репозиториями \textit{GitLab}.
В этой системе доступен набор инструментов CI/CD, позволяющих решить данные задачи. Он называется \textit{GitLab-CI}
Так как разработка ведется на языке Python, то самым удобным способом развертывания приложений является технология Docker.

А для объединения нескольких \textit{Docker}-контейнеров вместе можно воспользоваться средствами \textit{docker-compose}.
Более сложные инструменты оркестрации контейнеров, такие как \textit{kubernetes} нам не требуются, в силу того, что у нас
только один вычислительный сервер и отсутствует большое количество пользователей.

\noindent \textbf{4. Тестирование}.

Наша система состоит из нескольких компонентов. Поэтому нужно предусмотреть следующие виды тестирования.
\begin{itemize}
    \item \textit{Модульное тестирование}. Для проверки корректности работы различных функций и методов.
    \item \textit{Функциональное тестирование}. Для проверки соответствия результатов методов, тем бизнес-требованиям,
    которые на него наложены.
    \item \textit{Интеграционное тестирование}. Для проверки, что все компоненты системы работают согласованно.
\end{itemize}

\noindent \textbf{5. Логирование}.

Помимо логирования в коде, требуется подумать о системе сбора, агрегации и хранения логов.
Одним из лучших решений на рынке является ELK. Это решение состоит из трех компонент: ElasticSearch для полнотекстового
поиска и аналитики, Logstash для сбора логов из приложений, Kibana для визуализации логов в веб-интерфейсе.

\noindent \textbf{6. Документация}.

Документацию имеет смысл писать только тогда, когда она действительно будет использоваться.
У нас таких случаев ровно два: документация для внешнего API и документация для математической библиотеки.

В первом случае, есть множество стандартных средств таких, как Swagger или GraphiQL,
которые позволяют генерировать документацию на основе модели данных автоматически.

Во втором случае требуется сгенерировать описание описание алгоритмов, используемых в программе.
Важная особенность в документировании алгоритмов заключается в том, что так как они зачастую очень сложны
в понимании только по текстовому описанию и требуют наличия иллюстраций. Это удобно делать в MarkDown-файлах.
Также нужно учесть, что в алгоритмах присутствует не только теоретическое обоснование, но и реализация, которая также
требует документации, но уже стандартными средствами разработки.

Чтобы объединить в себе два формата документации, теоретическую часть и реализацию, воспользуемся инструментом Sphinx.
% https://www.sphinx-doc.org/en/master/

\noindent \textbf{7. Протоколы взаимодействия}.

Самым удобным средством визуализации данных для пользователя является веб-интерфейс.
Его главное преимущество заключается в том, что веб-интерфейс доступен на любом устройстве и не требует установки
дополнительных программ, достаточно лишь веб-браузера для просмотра. В качестве формата взаимодействия между
веб-интерфейсом и сервером выберем формат JSON, так как это один из наиболее популярных стандартов в индустрии.
Также он является человеко-читаемым и легко редактируемым с помощью обычного текстового редактора, в отличие от
protobuf.

